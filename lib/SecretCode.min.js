(function(){"use strict";Function.prototype.bind||(Function.prototype.bind=function(t){var e,i,n=this;if("function"!=typeof n)throw new TypeError;return e=Array.prototype.slice.call(arguments,1),i=function(){if(this instanceof i){var s,o,r;return s=function(){},s.prototype=n.prototype,o=new s,r=n.apply(o,e.concat(Array.prototype.slice.call(arguments))),Object(r)===r?r:o}return n.apply(t,e.concat(Array.prototype.slice.call(arguments)))}})})(),function(t,e){"use strict";function i(t){return null===t?t+"":"object"==typeof t||"function"==typeof t?Object.prototype.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase()||"object":typeof t}var n=function(){},s=n.prototype;s._listeners=[],s.trigger=function(t,i){if(this._listeners[t]!==e)for(var n=this._listeners[t],s=0;n.length>s;s++)n[s](i)},s.on=function(t,e){if("object"===i(t))for(var n in t)t.hasOwnProperty(n)&&this.on(n,t[n]);else if("function"===i(e))for(var s=t.split(" "),o=null,r=0,l=s.length;l>r;r++)o=s[r],this._listeners[o]=this._listeners[o]||[],-1===this._callbackIndex(o,e)&&this._listeners[o].push(e);else if("array"===i(e))for(var h=0,u=e.length;u>h;h++)this.on(t,e[h]);return this},s.off=function(t,n){if(t===e)this._listeners=[];else if("array"===i(n))for(var s=0,o=n.length;o>s;s++)this.off(t,n[s]);else for(var r=t.split(" "),l=null,h=0,u=r.length;u>h;h++)if(l=r[h],this._listeners[l]=this._listeners[l]||[],n===e)this._listeners[l].length=0;else{var a=this._callbackIndex(l,n);-1!==a&&this._listeners[t].splice(a,1)}return this},s._callbackIndex=function(t,e){for(var i=0,n=this._listeners[t].length;n>i;i++)if(this._listeners[t][i]===e)return i;return-1},t.EventDispatcher=n}(window),function(t){"use strict";t.Keyboard={BACKSPACE:8,ENTER:13,CTRL:17,ALT:18,CAPSLOCK:20,ESC:27,SPACEBAR:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,EQUAL:187,COMMA:188,DASH:189,PERIOD:190,FORWARDSLASH:191,OPENBRACKET:219,BACKSLASH:220,CLOSEBRACKET:221,SINGLEQUOTE:222}}(window),function(t,e){"use strict";var i=function(t,e){this.initialize(t,e)},n=i.prototype=new EventDispatcher;i.VERSION="1.0.0",i.SUCCESS="success",i.FAILED="failed",i.TIMEOUT="timeout",i.KONAMI=[Keyboard.UP,Keyboard.UP,Keyboard.DOWN,Keyboard.DOWN,Keyboard.LEFT,Keyboard.RIGHT,Keyboard.LEFT,Keyboard.RIGHT,Keyboard.B,Keyboard.A],n._stage=null,n._code=null,n._timeoutTimer=null,n._timeThreshold=3e3,n._keyRecord=[],n._enabled=!0,n.initialize=function(t,i){if(t===e)throw"SecretCode requires a single attribute of an array of keyCodes";this._stage=document,this._code=t,this._timeThreshold=i||3e3,this._timeoutTimer=null,this.enabled=!0},Object.defineProperty(n,"enabled",{get:function(){return this._enabled},set:function(t){this._enabled=t,this._stage.onkeyup=null,this._stage.onkeydown=null,this._clearTimer(),t&&this.reset()}}),n.reset=function(){this._stage.onkeyup=null,this._stage.onkeydown=this._onStartCodeInput.bind(this),this._keyRecord=[],this._clearTimer()},n._onTimeout=function(){this.trigger(i.TIMEOUT),this.reset()},n._onStartCodeInput=function(t){t.keyCode==this._code[0]&&(this._stage.onkeydown=null,this._stage.onkeyup=this._onCodeInput.bind(this),this._timeoutTimer=setTimeout(this._onTimeout.bind(this),this._timeThreshold))},n._onCodeInput=function(t){return this._keyRecord.push(t.keyCode),this._keyRecord.length<this._code.length?e:this._keyRecord.length>this._code.length?(this.trigger(i.FAILED),this.reset(),e):""+this._keyRecord==""+this._code?(this.trigger(i.SUCCESS),this.reset(),e):e},n._clearTimer=function(){this._timeoutTimer&&clearTimeout(this._timeoutTimer),this._timeoutTimer=null},n.destroy=function(){this.reset(),this._timeoutTimer=null,this._keyRecord=null,this._code=null,this._stage.onkeyup=null,this._stage.onkeydown=null,this._stage=null},t.SecretCode=i}(window);