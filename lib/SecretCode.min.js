(function(){"use strict";Function.prototype.bind||(Function.prototype.bind=function(t){var e,i,n=this;if("function"!=typeof n)throw new TypeError;return e=Array.prototype.slice.call(arguments,1),i=function(){if(this instanceof i){var r,s,o;return r=function(){},r.prototype=n.prototype,s=new r,o=n.apply(s,e.concat(Array.prototype.slice.call(arguments))),Object(o)===o?o:s}return n.apply(t,e.concat(Array.prototype.slice.call(arguments)))}})})(),function(t,e){"use strict";function i(t){return null===t?t+"":"object"==typeof t||"function"==typeof t?Object.prototype.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase()||"object":typeof t}var n=function(){},r=n.prototype;r._listeners=[],r.trigger=function(t,i){if(this._listeners[t]!==e)for(var n=this._listeners[t],r=0;n.length>r;r++)n[r](i)},r.on=function(t,e){if("object"===i(t))for(var n in t)t.hasOwnProperty(n)&&this.on(n,t[n]);else if("function"===i(e))for(var r=t.split(" "),s=null,o=0,l=r.length;l>o;o++)s=r[o],this._listeners[s]=this._listeners[s]||[],-1===this._callbackIndex(s,e)&&this._listeners[s].push(e);else if("array"===i(e))for(var h=0,c=e.length;c>h;h++)this.on(t,e[h]);return this},r.off=function(t,n){if(t===e)this._listeners=[];else if("array"===i(n))for(var r=0,s=n.length;s>r;r++)this.off(t,n[r]);else for(var o=t.split(" "),l=null,h=0,c=o.length;c>h;h++)if(l=o[h],this._listeners[l]=this._listeners[l]||[],n===e)this._listeners[l].length=0;else{var u=this._callbackIndex(l,n);-1!==u&&this._listeners[t].splice(u,1)}return this},r._callbackIndex=function(t,e){for(var i=0,n=this._listeners[t].length;n>i;i++)if(this._listeners[t][i]===e)return i;return-1},t.EventDispatcher=n}(window),function(t){"use strict";t.Keyboard={BACKSPACE:8,ENTER:13,CTRL:17,ALT:18,CAPSLOCK:20,ESC:27,SPACEBAR:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,EQUAL:187,COMMA:188,DASH:189,PERIOD:190,FORWARDSLASH:191,OPENBRACKET:219,BACKSLASH:220,CLOSEBRACKET:221,SINGLEQUOTE:222}}(window),function(t,e,i){"use strict";var n=function(t,e){this.initialize(t,e)},r=n.prototype=new EventDispatcher;n.VERSION="1.0.0",n.SUCCESS="success",n.FAILED="failed",n.TIMEOUT="timeout",n.KONAMI=[Keyboard.UP,Keyboard.UP,Keyboard.DOWN,Keyboard.DOWN,Keyboard.LEFT,Keyboard.RIGHT,Keyboard.LEFT,Keyboard.RIGHT,Keyboard.B,Keyboard.A],r._stage=null,r._code=null,r._timeoutTimer=null,r._timeThreshold=3e3,r._keyRecord=[],r._enabled=!0,r._inputBind=null,r._startBind=null,r.initialize=function(t,e){if(t===i)throw"SecretCode requires a single attribute of an array of keyCodes";this._inputBind=l.bind(this),this._startBind=o.bind(this),this._code=t,this._timeThreshold=e||3e3,this._timeoutTimer=null,this.enabled=!0},Object.defineProperty(r,"enabled",{get:function(){return this._enabled},set:function(e){this._enabled=e,u(t,"keyup",this._inputBind),u(t,"keydown",this._startBind),h.call(this),e&&this.reset()}}),r.reset=function(){u(t,"keyup",this._inputBind),c(t,"keydown",this._startBind),this._keyRecord=[],h.call(this)},r.destroy=function(){this.reset(),this.enabled=!1,this._timeoutTimer=null,this._keyRecord=null,this._code=null};var s=function(){this.trigger(n.TIMEOUT),this.reset()},o=function(e){e.keyCode==this._code[0]&&(c(t,"keyup",this._inputBind),u(t,"keydown",this._startBind),this._timeoutTimer=setTimeout(s.bind(this),this._timeThreshold))},l=function(t){return this._keyRecord.push(t.keyCode),this._keyRecord.length<this._code.length?i:this._keyRecord.length>this._code.length?(this.trigger(n.FAILED),this.reset(),i):""+this._keyRecord==""+this._code?(this.trigger(n.SUCCESS),this.reset(),i):i},h=function(){this._timeoutTimer&&clearTimeout(this._timeoutTimer),this._timeoutTimer=null},c=function(){return t.addEventListener?function(t,e,i){t.addEventListener(e,i,!1)}:function(t,e,i){t.attachEvent("on"+e,i)}}(),u=function(){return t.removeEventListener?function(e,i,n){t.removeEventListener(i,n,!1)}:function(e,i,n){t.detachEvent("on"+i,n)}}();e.SecretCode=n}(document,window);